<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<html>
<head>
    <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
    <title>新页面2</title>
    <link href="/static/home/css/jqueryui.css" rel="stylesheet" type="text/css" />
    <link href="/static/home/css/layout-default.css" rel="stylesheet" type="text/css" />
    <link href="/static/home/css/tlayout.css" rel="stylesheet" type="text/css" />
    <link href="/static/home/css/vjpublic.css" rel="stylesheet" type="text/css" />
    <link href="/static/home/css/ui.jqgrid.css" rel="stylesheet" type="text/css" />
    <link href="/static/home/css/cum.css" rel="stylesheet" type="text/css" />
    <link href="/static/home/css/vjpage.css" rel="stylesheet" type="text/css" />
    <link href="/static/home/css/config.css" rel="stylesheet" type="text/css" />

    <!-- start: CSS -->
    <link id="bootstrap-style" href="/static/cs/bootstrap.min.css" rel="stylesheet">
    <link href="/static/cs/bootstrap-responsive.min.css" rel="stylesheet">
    <link id="base-style" href="/static/cs/style.css" rel="stylesheet">
    <link id="base-style-responsive" href="/static/cs/style-responsive.css" rel="stylesheet">
    <link href='http://fonts.googleapis.com/css?family=Open+Sans:300italic,400italic,600italic,700italic,800italic,400,300,600,700,800&subset=latin,cyrillic-ext,latin-ext' rel='stylesheet' type='text/css'>
    <!-- end: CSS -->

    <link href="/static/page14/css/jqueryui.css" rel="stylesheet" type="text/css" />
    <link href="/static/page14/css/vjpublic.css" rel="stylesheet" type="text/css" />
    <link href="/static/page14/css/chart.css" rel="stylesheet" type="text/css" />
    <link href="/static/page14/css/vjpage.css" rel="stylesheet" type="text/css" />
    <link href="/static/page14/css/config.css" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="/static/page14/js/public.js"></script>
    <script type="text/javascript" src="/static/page14/js/jquery-1.10.2.js"></script>
    <script type="text/javascript" src="/static/page14/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="/static/page14/page14.js"></script>

    <!-- The HTML5 shim, for IE6-8 support of HTML5 elements -->
    <!--[if lt IE 9]>
    <!--<script src="http://html5shim.googlecode.com/svn/trunk/html5.js"></script>-->
    <link id="ie-style" href="/static/cs/ie.css" rel="stylesheet">
    <![endif]-->

    <!--[if IE 9]>
    <link id="ie9style" href="/static/cs/ie9.css" rel="stylesheet">
    <![endif]-->

    <!-- start: Favicon -->

    <!-- end: Favicon -->




    <script type="text/javascript" src="/static/home/js/public.js"></script>
    <script type="text/javascript" src="/static/home/js/jquery-1.10.2.js"></script>
    <script type="text/javascript" src="/static/home/js/jquery-ui.min.js"></script>
    <script type="text/javascript" src="/static/home/js/resizeComponents.js"></script>

    <script type="text/javascript" src="/static/home/js/grid.locale-cn.js"></script>
    <script type="text/javascript" src="/static/home/js/jquery.jqGrid.min.js"></script>
    <script type="text/javascript" src="/static/js/page3.js"></script>
</head>
<body data-curpagename="page2" class="body_style1">
<div id="head">
</div>




<div class="container" style="position: absolute;margin-left: 5%;margin-top: 10%">




    <div class="row-fluid">
        <div class="row-fluid sortable">
            <div class="box span12" style="height: 360px">
                <div class="box-header" data-original-title>
                    <h2><i class="halflings-icon white edit"></i><span class="break"></span>档位风控</h2>
                    <div class="box-icon">
                        <a href="#" class="btn-setting"><i class="halflings-icon white wrench"></i></a>
                        <a href="#" class="btn-minimize"><i class="halflings-icon white chevron-up"></i></a>
                        <a href="#" class="btn-close"><i class="halflings-icon white remove"></i></a>
                    </div>
                </div>
                <div class="box-content">
                    <form class="form-horizontal">


                        <br>
                        <label class="control-label" for="selectError3">服务器列表</label>
                        <div class="controls">
                            <select id="PropName1">
                                <option value="1">百人百家乐</option>
                                <option value="2">百人牛牛</option>
                                <option value="3">百人黑红梅方</option>
                                <option value="4">百人德州</option>
                                <option value="5">水浒传</option>
                                <option value="6">旺宝</option>
                                <option value="7">多财多福</option>
                                <option value="8">百人铃铛</option>
                                <option value="9">豪车竞赛</option>
                                <option value="10">森林舞会</option>
                                <option value="11">欢乐牌机</option>
                            </select>
                        </div>
                        <br>
                        <label class="control-label" for="selectError3">房间号</label>
                        <div class="controls">
                            <input type="text" id="Emilnc1">
                        </div>
                        <br>
                        <label class="control-label" for="selectError3">游戏场次</label>
                        <div class="controls">
                            <select id="Emilnc2">
                                <option value="1">初级场</option>
                                <option value="2">中级场</option>
                                <option value="3">高级场</option>
                            </select>
                        </div>
                        <br>
                        <label class="control-label" for="selectError3">档位列表</label>
                        <div class="controls">
                            <select id="PropName2">
                                <option value="1">容易</option>
                                <option value="2">简单</option>
                                <option value="3">普通</option>
                                <option value="4">稍难</option>
                                <option value="5">偏难</option>
                                <option value="6">很难</option>
                                <option value="7">非常难</option>
                                <option value="8">死难</option>
                                <option value="9">最难</option>
                                <option value="10">特别难</option>
                            </select>
                        </div>
                        <br>




                        <br>
                        <button type="button" class="btn btn-primary" onclick="Update_Game_dw()" style="margin-left: 20%">修改档位</button>


                    </form>

                </div>

            </div>

        </div>


    </div>



<!--

    <div class="row hero" style="padding-top: 30px; padding-bottom: 0px;">


        <div class="col-sm-10 push-sm-1 later" style="font-size: 14px;">
            <p class="mt-1">游戏机台数据</p>
            <div id="chart-composite-1" class="border"><svg height=225></svg></div>

        </div>
        <!--
        <div class="col-sm-10 push-sm-1 later" style="font-size: 14px;">
            <div id="chart-composite-2" class="border"><svg height=225></svg></div>
        </div>
    </div> -->



    <div id="page14_jChart2" class="TJChart"></div>





</div>















<script src="/static/page14/js/echarts-all.js"></script>




<script src="/static/frappe-charts/docs/assets/js/frappe-charts.min.js"></script>
<script src="/static/frappe-charts/docs/assets/js/index.js"></script>
<script src="/static/frappe-charts/docs/assets/js/frappe-charts.min.js"></script>
<script src="/static/frappe-charts/docs/assets/js/index.js"></script>



<script type="text/javascript" src="/static/js/chartroom.js"></script>
<script type="text/javascript" src="/static/js/Cookie.js"></script>
<script type="text/javascript" src="/static/js/head.js"></script>
<script type="text/javascript" src="/static/js/Game_js.js"></script>

<script src="/static/jss/jquery-1.9.1.min.js"></script>
<script src="/static/jss/jquery-migrate-1.0.0.min.js"></script>

<script src="/static/jss/jquery-ui-1.10.0.custom.min.js"></script>

<script src="/static/jss/jquery.ui.touch-punch.js"></script>

<script src="/static/jss/modernizr.js"></script>

<script src="/static/jss/bootstrap.min.js"></script>

<script src="/static/jss/jquery.cookie.js"></script>

<script src='/static/jss/fullcalendar.min.js'></script>

<script src='/static/jss/jquery.dataTables.min.js'></script>

<script src="/static/jss/excanvas.js"></script>
<script src="/static/jss/jquery.flot.js"></script>
<script src="/static/jss/jquery.flot.pie.js"></script>
<script src="/static/jss/jquery.flot.stack.js"></script>
<script src="/static/jss/jquery.flot.resize.min.js"></script>

<script src="/static/jss/jquery.chosen.min.js"></script>

<script src="/static/jss/jquery.uniform.min.js"></script>

<script src="/static/jss/jquery.cleditor.min.js"></script>

<script src="/static/jss/jquery.noty.js"></script>

<script src="/static/jss/jquery.elfinder.min.js"></script>

<script src="/static/jss/jquery.raty.min.js"></script>

<script src="/static/jss/jquery.iphone.toggle.js"></script>

<script src="/static/jss/jquery.uploadify-3.1.min.js"></script>

<script src="/static/jss/jquery.gritter.min.js"></script>

<script src="/static/jss/jquery.imagesloaded.js"></script>

<script src="/static/jss/jquery.masonry.min.js"></script>

<script src="/static/jss/jquery.knob.modified.js"></script>

<script src="/static/jss/jquery.sparkline.min.js"></script>

<script src="/static/jss/counter.js"></script>

<script src="/static/jss/retina.js"></script>

<script src="/static/jss/custom.js"></script>
<!-- end: JavaScript-->





<script type="application/javascript">

    //客户端请求修改服务器档位
        function Update_Game_dw() {
           // var PropName1 = document.getElementById("PropName1").value;
            var PropName2 = document.getElementById("PropName2").value;  //Emilnc1
            var Emilnc1 = document.getElementById("Emilnc1").value;  //Emilnc1
          //  var Emilnc2 = document.getElementById("Emilnc2").value;  //Emilnc1



            socket = new WebSocket("ws://"+IPconf+":"+prot+"/ws/join");
            socket.onopen = function() {
                socket.send("1000"+GetCookies("UG"));
                socket.send("9500" + JSON.stringify({
                    Room:parseInt(Emilnc1),
                    Guid:"",
                    Mgd:GetCookies("UG"),
                    Rt:parseInt(PropName2),
                }));
                socket.onmessage = function (msg) {

                    // alert(msg.data)
                    var newdate="";
                    for(var i=0;i<msg.data.length;i++){
                        if (i>3){
                            newdate = newdate + msg.data[i];
                        }
                    }
                    obj = toJson(newdate)
                   // alert(obj.Err)
                    if (obj.Err == -1 ){
                        alert("修改成功")
                    }else{
                        alert("修改失败")
                    }
                    socket.close()
                }
            }



}





    //请求禁言用户
    function Banned_Banned_To_Post(msg) {
        // var Email_05 = document.getElementById("Email_06").value;

        var input_001 = document.getElementById("input_001").value;
        var select_001 = document.getElementById("select_001").value;
        // alert(input_001+"======"+select_001)
        socket = new WebSocket("ws://"+IPconf+":"+prot+"/ws/join");
        socket.onopen = function() {
            socket.send("1000"+GetCookies("UG"));
            socket.send("9007" + JSON.stringify({
                BG:"",
                UG:GetCookies("UG"),
                Nickname:GetCookies("User"),
                SID:parseInt(0),
                WhClose:input_001,
                Close:parseInt(select_001)
            }));
            socket.onmessage = function (msg) {
                //alert(msg.data)
                var newdate="";
                for(var i=0;i<msg.data.length;i++){
                    if (i>3){
                        newdate = newdate + msg.data[i];
                    }
                }
                obj = toJson(newdate)
                if(obj.Errcode == -1){
                    alert("封禁成功")
                    window.location.href="/static/html/banned_to_post.html"
                }else{
                    alert("封禁失败")
                    window.location.href="/static/html/banned_to_post.html"
                }
                socket.close()
            }
        }


    }





</script>



<script>

    //请求数据
    $(function () {
        socket = new WebSocket("ws://"+IPconf+":"+prot+"/ws/join");
        socket.onopen = function() {
            socket.send("1000"+GetCookies("UG"));
            socket.send("9502" + JSON.stringify({
                BG:"",
                UG:GetCookies("UG"),

            }));
            socket.onmessage = function (msg) {
                //alert(msg.data)
                var newdate="";
                for(var i=0;i<msg.data.length;i++){
                    if (i>3){
                        newdate = newdate + msg.data[i];
                    }
                }
                obj = toJson(newdate)
                //alert(obj.AP)
               // var mycars = new Array(23)
                //Inform_chart(obj.AP)
                // for (var i = 0 ; i < obj.AP.length;i++ ){
                //     //alert("======Inform_chart====="+msg[i].Tm.substring(11,14))
                //     console.log("======Inform_chart====="+obj.AP[i].Tm.substring(11,14))
                //     mycars[i][0] = obj.AP[i].Win
                //     mycars[i][1] = obj.AP[i].Los
                //     mycars[i][3] =  obj.AP[i].Win - obj.AP[i].Los
                // }
                c100 = document.querySelector("#chart-composite-1");
                var  num = []
                var  num1 = []
                var  num3 = []
                var  count_time = []
                num1.push(10000 )
                num.push(20000 )
                num3.push(10000 - 20000)
                count_time.push(0)
                for (var i = 1 ;i< obj.AP.length;i++){
                  //  alert( obj.AP[i].Win+"==========="+obj.AP[i].Los)
                    num1.push(obj.AP[i].Los )
                    num.push(obj.AP[i].Win )
                    num3.push(obj.AP[i].Win - obj.AP[i].Los)
                    count_time.push(i)

                }






                $(document).ready(function(){

                    var page14_jChart2_chart = echarts.init(document.getElementById('page14_jChart2'));
                    page14_jChart2_chart.setOption({
                        tooltip : {
                            trigger: 'axis'
                        },
                        legend: {
                            data:['收入（元宝）','输出（元宝）']
                        },
                        xAxis: [
                            {
                                type: 'category',
                                data: count_time
                            }
                        ],
                        yAxis: [
                            {
                                type: 'value'
                            }
                        ],
                        series : [
                            {
                                name:'收入（元宝）',
                                type:'line',
                                data:num
                            },
                            {
                                name:'输出（元宝）',
                                type:'line',
                                data:num1
                            },
                            {
                                name:'差值（元宝）',
                                type:'line',
                                data:num3
                            }
                        ]
                    });
                });


                // reportCountLists = num;
                //
                // lineCompositeDatas = {
                //     labels: count_time,
                //     yMarkers: [
                //         {
                //             label: "按小时",
                //             value: 800,
                //         }
                //     ],
                //
                //     datasets: [{
                //         "name": "元宝",
                //         "values": reportCountLists
                //     }]
                // };
                //
                //
                //
                // lineCompositeChart = new Chart (c100, {
                //     title: "",
                //     data: lineCompositeDatas,
                //     type: 'line',
                //     height: 290,
                //     colors: ['green'],
                //     isNavigable: 1,
                //     valuesOverPoints: 1,
                //
                //     lineOptions: {
                //         dotSize: 8
                //     },
                //     // yAxisMode: 'tick'
                //     // regionFill: 1
                // });



                socket.close()
            }
        }

    })



</script>


</body>
</html>